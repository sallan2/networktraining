<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Session 2 Working With Data in R | Network Analysis in R</title>
  <meta name="description" content="network-course" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Session 2 Working With Data in R | Network Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="network-course" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Session 2 Working With Data in R | Network Analysis in R" />
  
  <meta name="twitter:description" content="network-course" />
  



<meta name="date" content="2019-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="starting-with-r.html"/>
<link rel="next" href="network-analysis.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="include/psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Network Analysis Course</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="starting-with-r.html"><a href="starting-with-r.html"><i class="fa fa-check"></i><b>1</b> Starting with R</a><ul>
<li class="chapter" data-level="1.1" data-path="starting-with-r.html"><a href="starting-with-r.html#overview-1"><i class="fa fa-check"></i><b>1.1</b> Overview</a><ul>
<li class="chapter" data-level="1.1.1" data-path="starting-with-r.html"><a href="starting-with-r.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="starting-with-r.html"><a href="starting-with-r.html#how-to-install-base-r"><i class="fa fa-check"></i><b>1.1.2</b> How To Install Base R</a></li>
<li class="chapter" data-level="1.1.3" data-path="starting-with-r.html"><a href="starting-with-r.html#how-to-install-r-studio"><i class="fa fa-check"></i><b>1.1.3</b> How To Install R Studio</a></li>
<li class="chapter" data-level="1.1.4" data-path="starting-with-r.html"><a href="starting-with-r.html#quiz"><i class="fa fa-check"></i><b>1.1.4</b> Quiz</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="starting-with-r.html"><a href="starting-with-r.html#where-to-get-help"><i class="fa fa-check"></i><b>1.2</b> Where to Get Help</a><ul>
<li class="chapter" data-level="1.2.1" data-path="starting-with-r.html"><a href="starting-with-r.html#google"><i class="fa fa-check"></i><b>1.2.1</b> Google</a></li>
<li class="chapter" data-level="1.2.2" data-path="starting-with-r.html"><a href="starting-with-r.html#stackoverflow"><i class="fa fa-check"></i><b>1.2.2</b> Stackoverflow</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html"><i class="fa fa-check"></i><b>2</b> Working With Data in R</a><ul>
<li class="chapter" data-level="2.1" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#overview-2"><i class="fa fa-check"></i><b>2.1</b> Overview</a><ul>
<li class="chapter" data-level="2.1.1" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#setting-working-directory"><i class="fa fa-check"></i><b>2.1.1</b> Setting Working Directory</a></li>
<li class="chapter" data-level="2.1.2" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#code"><i class="fa fa-check"></i><b>2.1.2</b> Code</a></li>
<li class="chapter" data-level="2.1.3" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#functions-arguments"><i class="fa fa-check"></i><b>2.1.3</b> Functions &amp; Arguments</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#scripts"><i class="fa fa-check"></i><b>2.2</b> Scripts</a><ul>
<li class="chapter" data-level="2.2.1" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#tidyverse"><i class="fa fa-check"></i><b>2.2.1</b> Tidyverse</a></li>
<li class="chapter" data-level="2.2.2" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#opening-spss-files"><i class="fa fa-check"></i><b>2.2.2</b> Opening SPSS Files</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#iris-task"><i class="fa fa-check"></i><b>2.3</b> iris Task</a></li>
<li class="chapter" data-level="2.4" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#calculate-a-mean"><i class="fa fa-check"></i><b>2.4</b> Calculate a Mean</a></li>
<li class="chapter" data-level="2.5" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#calculate-a-median"><i class="fa fa-check"></i><b>2.5</b> Calculate a Median</a></li>
<li class="chapter" data-level="2.6" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#groups"><i class="fa fa-check"></i><b>2.6</b> Groups</a><ul>
<li class="chapter" data-level="2.6.1" data-path="working-with-data-in-r.html"><a href="working-with-data-in-r.html#keeping-environment-clean"><i class="fa fa-check"></i><b>2.6.1</b> Keeping Environment Clean</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>3</b> Network Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="network-analysis.html"><a href="network-analysis.html#overview-3"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="network-analysis.html"><a href="network-analysis.html#background"><i class="fa fa-check"></i><b>3.2</b> Background</a></li>
<li class="chapter" data-level="3.3" data-path="network-analysis.html"><a href="network-analysis.html#why-use-network-analysis-in-mental-health"><i class="fa fa-check"></i><b>3.3</b> Why Use Network Analysis in Mental Health?</a></li>
<li class="chapter" data-level="3.4" data-path="network-analysis.html"><a href="network-analysis.html#what-is-a-network"><i class="fa fa-check"></i><b>3.4</b> What is a network?</a></li>
<li class="chapter" data-level="3.5" data-path="network-analysis.html"><a href="network-analysis.html#drawing-matrices"><i class="fa fa-check"></i><b>3.5</b> Drawing Matrices</a></li>
<li class="chapter" data-level="3.6" data-path="network-analysis.html"><a href="network-analysis.html#understanding-network-plots"><i class="fa fa-check"></i><b>3.6</b> Understanding Network plots</a></li>
<li class="chapter" data-level="3.7" data-path="network-analysis.html"><a href="network-analysis.html#task"><i class="fa fa-check"></i><b>3.7</b> Task</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="practical.html"><a href="practical.html"><i class="fa fa-check"></i><b>4</b> Practical</a><ul>
<li class="chapter" data-level="4.1" data-path="practical.html"><a href="practical.html#overview-4"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="practical.html"><a href="practical.html#description-of-data"><i class="fa fa-check"></i><b>4.2</b> Description of Data</a></li>
<li class="chapter" data-level="4.3" data-path="practical.html"><a href="practical.html#visualising-data"><i class="fa fa-check"></i><b>4.3</b> Visualising Data</a></li>
<li class="chapter" data-level="4.4" data-path="practical.html"><a href="practical.html#visualising-data---practical"><i class="fa fa-check"></i><b>4.4</b> Visualising Data - Practical</a></li>
<li class="chapter" data-level="4.5" data-path="practical.html"><a href="practical.html#working-with-data"><i class="fa fa-check"></i><b>4.5</b> Working With Data</a></li>
<li class="chapter" data-level="4.6" data-path="practical.html"><a href="practical.html#plotting-data"><i class="fa fa-check"></i><b>4.6</b> Plotting Data</a></li>
<li class="chapter" data-level="4.7" data-path="practical.html"><a href="practical.html#recoding-factors"><i class="fa fa-check"></i><b>4.7</b> Recoding Factors</a></li>
<li class="chapter" data-level="4.8" data-path="practical.html"><a href="practical.html#simple-network"><i class="fa fa-check"></i><b>4.8</b> Simple Network</a></li>
<li class="chapter" data-level="4.9" data-path="practical.html"><a href="practical.html#interpretation"><i class="fa fa-check"></i><b>4.9</b> Interpretation</a></li>
<li class="chapter" data-level="4.10" data-path="practical.html"><a href="practical.html#assumptions"><i class="fa fa-check"></i><b>4.10</b> Assumptions</a></li>
<li class="chapter" data-level="4.11" data-path="practical.html"><a href="practical.html#stability"><i class="fa fa-check"></i><b>4.11</b> Stability</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html"><i class="fa fa-check"></i><b>A</b> RStudio Cloud</a><ul>
<li class="chapter" data-level="A.1" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html#creating-an-account"><i class="fa fa-check"></i><b>A.1</b> Creating an Account</a></li>
<li class="chapter" data-level="A.2" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html#accessing-rstudio-cloud"><i class="fa fa-check"></i><b>A.2</b> Accessing RStudio Cloud</a></li>
<li class="chapter" data-level="A.3" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html#getting-started-with-rstudio-cloud"><i class="fa fa-check"></i><b>A.3</b> Getting Started with RStudio Cloud</a><ul>
<li class="chapter" data-level="A.3.1" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html#naming-the-workspace"><i class="fa fa-check"></i><b>A.3.1</b> Naming the Workspace</a></li>
<li class="chapter" data-level="A.3.2" data-path="rstudio-cloud.html"><a href="rstudio-cloud.html#uploading-files"><i class="fa fa-check"></i><b>A.3.2</b> Uploading Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>B</b> References</a></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://psyteachr.github.io/" target="blank">Based on PsyTeachR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Network Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-data-in-r" class="section level1">
<h1><span class="header-section-number">Session 2</span> Working With Data in R</h1>
<div id="overview-2" class="section level2">
<h2><span class="header-section-number">2.1</span> Overview</h2>
<p><span style="font-size: 22px; font-weight: bold; color: var(--purple);">Working With Data</span></p>
<p><strong>In this session you will learn:</strong></p>
<ol style="list-style-type: decimal">
<li>How to open files</li>
<li>How to write code</li>
<li>How to install packages</li>
</ol>
<p>This is a basic introduction to R. The material is based on the data skills course for MSc students at the University of Glasgow. Find lots of useful resources here: <a href="https://gupsych.github.io/data_skills/01_intro.html" class="uri">https://gupsych.github.io/data_skills/01_intro.html</a></p>
<p>Please take a look at these free open resources in your own time.</p>
<div id="setting-working-directory" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Setting Working Directory</h3>
<p>First things first, we will set the working directory. What this means is that we need to tell R where the files we need are located. Think of it just like when you have different projects, and you have seperate folders for each project e.g. research conducted in schools, research conducted in the community and so on. When working on R, it’s useful to have all the data sets and files you need in one folder.</p>
<p>To set the working directory press session -&gt; set working directory -&gt; choose directory and then select the folder where the data sets we are working on are saved, and save this file in the same folder as well. In other words- make sure your data sets and scripts are all in the same folder.</p>
<p><img src="images/setwd.gif"></p>
</div>
<div id="code" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Code</h3>
<p>RStudio generally has four panels: Current file, Console, Environment, and Viewer. You can think of the console as a place to try things out, and the file to write down ideas you want to stick around. Go to the console and type</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">x</a></code></pre></div>
<p>Notice how now the environment shows we have a Value x that is 6. We have just created a variable. In the above, we would say “the variable x is assigned to 1 + 5” or “x gets 1 + 5”</p>
</div>
<div id="functions-arguments" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Functions &amp; Arguments</h3>
<p>We have already created some code. But what does it all mean?</p>
<p>Functions in R execute specific tasks and normally take a number of arguments (if you’re into linguistics you might want to think as these as verbs that require a subject and an object). You can look up all the arguments that a function takes by using the help documentation by using the format <code>?function</code>. Some arguments are required, and some are optional. Optional arguments will often use a default (normally specified in the help documentation) if you do not enter any value.</p>
<p>As an example, let’s look at the help documentation for the function rnorm() which randomly generates a set of numbers with a normal distribution. Just like the numbers in the graph below.</p>
<p><img src="images/Rplot.png"></p>
<p>Open up R Studio and in the console, type the following code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">?rnorm</a></code></pre></div>
<p>The help documentation for <code>rnorm()</code> should appear in the bottom right help panel. In the usage section, we see that <code>rnorm()</code> takes the following form:</p>
<pre class="rnorm2"><code>rnorm(n, mean = 0, sd = 1)</code></pre>
<p>In the arguments section, there are explanations for each of the arguments. <code>n</code> is the number of observations we want to create, <code>mean</code> is the mean of the data points we will create and <code>sd</code> is the standard deviation of the set. In the details section it notes that if no values are entered for mean and sd it will use a default of 0 and 1 for these values. Because there is no default value for n it must be specified otherwise the code won’t run.</p>
<p>Now, try running the above code for 50 participants with a mean test score of 3 and a standard deviation of 1.</p>
<p>Remember we are asking R to create <strong>random</strong> numbers here, so do not worry if someone else has slightly different values.</p>
<div class="solution">
<button>
I need a hint!
</button>
<p><code>n</code> in this case would be changed to 50.</p>
<p><code>mean</code> should be changed to 3</p>
<p><code>rnorm(50, mean = 3, sd = 1)</code></p>
<p>now, try running the above code and see what happens.</p>
</div>
</div>
</div>
<div id="scripts" class="section level2">
<h2><span class="header-section-number">2.2</span> Scripts</h2>
<p>So far we have been typing into the console but that means all work is lost when re-start R. We can save our analysis code in scripts. To create a new script select the option from the File menu.</p>
<p><img src="images/script.gif"></p>
<div id="tidyverse" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Tidyverse</h3>
<p>However, we do not always want to use R to create random numbers, we want to use it to analyse our own data which commonly resides in .csv or .sav files. People have developed many different libraries to help us work with such data. One of the most popular packages is tidyverse.</p>
<p>The Tidyverse is a collection of R packages with a common design , grammar, and data structure that makes analysis faster and easier.</p>
<p>The first time you want to use a package, you must first install the package. <code>tidyverse</code> can be installed as follows.</p>
<p><img src="images/tidyverse.gif"></p>
<pre class="rinstall"><code>install.packages(&quot;tidyverse&quot;)</code></pre>
<p>Once the package has been installed, any time you want to use the package you use the following code. If you want to open a package other than <code>tidyverse</code>, simply substitute the package name.</p>
<p>One of the key underlying structures of the tidyverse is that data structures follow a tidy format:</p>
<ul>
<li>Each variable is in a column</li>
<li>Each observation is a row</li>
<li>Each value is a cell</li>
</ul>
</div>
<div id="opening-spss-files" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Opening SPSS Files</h3>
<p>The <code>foreign</code> package allows easy opening of .sav files which are associated with SPSS.</p>
<p>You can either set a path to open up an SPSS file or run <code>file.choose()</code> and pick the file manually.</p>
<p>To use foreign, we need to first install the package, same as we did with tidyverse. Follow the instructions for installing tidyverse and subsitute the package name.</p>
<details>
<p><summary>Click to see solution…</summary></p>
<pre class="rforeign"><code>install.packages(&quot;foreign&quot;)</code></pre>
<p>Once you have installed packages, .sav files can be opened using (editing in your actual file name) with the following code:</p>
<p><code>dataset = read.spss(&quot;YOURFILENAMEHERE.sav&quot;, to.data.frame=TRUE)</code></p>
<p>While we are not using spss files during this training, it is useful to know how to do this.</p>
</div>
</div>
<div id="iris-task" class="section level2">
<h2><span class="header-section-number">2.3</span> iris Task</h2>
<p><img src="images/iris.jpeg"></p>
<p>R comes with a few built in data sets. One of which is called <code>iris</code> which is about the plant . Now that we have installed <code>tidyverse</code> let us see what it can do.</p>
<p>Create a new script and call the script iris. We are going to look at the top ten values of the in built data set. Once you are done, feel free to try looking at the top 3,7 and 31 values.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">head</span>(iris, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<p>What do you think <code>tail(iris, 10)</code> will do?</p>
</div>
<div id="calculate-a-mean" class="section level2">
<h2><span class="header-section-number">2.4</span> Calculate a Mean</h2>
<p>From looking at the dataset, we can see it has information on the sepal and petal lengths and widths for different species of iris. We are interested in calculating <strong>mean</strong> petal width and we will use the <code>summarise</code> function to do it.</p>
<p><code>summarise</code> is a useful function which works for means, medians and interquartile ranges and gives results in a single row.</p>
<p>You can run <code>?summarise</code> to bring up the help function for more information.</p>
<p>Now, try running the following codes within your iris script.</p>
<p><img src="images/pipe.jpg"></p>
<p>the %&gt;% is the pipe operator, it simply means <strong>“and then”</strong>. So, we are bringing up the iris database <strong>“and then”</strong> we are summarising.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">mean_petal_length =</span> <span class="kw">mean</span>(Petal.Length))</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">mean_iris &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">mean_petal_length =</span> <span class="kw">mean</span>(Petal.Length))</a></code></pre></div>
<ul>
<li>From the following options, what is the difference in the code? <select class='solveme' data-answer='["one is assigned to a variable"]'> <option></option> <option>one is assigned to a variable</option> <option>one actually calculates the median</option> <option>both are the same</option></select></li>
</ul>
<div class="solution">
<button>
Explain This Answer!
</button>
<p><code>mean_iris &lt;- iris %&gt;% summarise(mean_petal_length = mean(Petal.Length))</code> calculates the mean and creates a new dataframe (which can be seen in the environment) while <code>iris %&gt;% summarise(mean_petal_length = mean(Petal.Length))</code> simply calculates the mean.,</p>
</div>
</div>
<div id="calculate-a-median" class="section level2">
<h2><span class="header-section-number">2.5</span> Calculate a Median</h2>
<p>A lot of data in psychology can be skewed, so sometimes the median is better (as numbers are equally likely to fall above or below it). How would you adapt the code for calculating the mean to calculate a median?</p>
<p>Calculate median petal width and save to your script.</p>
<div class="solution">
<button>
I need a hint!
</button>
<p><code>mean(Petal.Width)</code> is the function within the code block that calculates the mean, try changing to median(Petal.Width). mean_petal_width is a column name we made up so it might be a good idea to rename it something meaningful.</p>
</div>
</div>
<div id="groups" class="section level2">
<h2><span class="header-section-number">2.6</span> Groups</h2>
<p>What about if we wanted to calculate a mean for each different species of orchid? <code>Tidyverse</code> has a helpful option which lets us group by factors. This is helpful if we are looking at differences between females and males, for example</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">grouped &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">mean_petal_length =</span> <span class="kw">mean</span>(Petal.Length))</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">grouped</a></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   Species    mean_petal_length
##   &lt;fct&gt;                  &lt;dbl&gt;
## 1 setosa                  1.46
## 2 versicolor              4.26
## 3 virginica               5.55</code></pre>
<p>What has the smallest mean petal length?</p>
<p><select class='solveme' data-answer='["sertosa"]'> <option></option> <option>versicolor</option> <option>sertosa</option> <option>virginca</option></select></p>
<div id="keeping-environment-clean" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Keeping Environment Clean</h3>
<p>As you work, you will notice your environment will (quickly) fill up with lots of variables that you have assigned.</p>
<p><img src="images/messy.png"></p>
<p>Before beginning any new analyses it is important to clear the environment which can be done with the following code. If you run this code R will forget any libraries that you have loaded, such as <code>tidyverse</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</a></code></pre></div>

</div>
</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="starting-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="network-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "lumen",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
